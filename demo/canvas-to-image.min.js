var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in o,r=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),c=e.webkitRequestFileSystem,d=e.requestFileSystem||c||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s="application/octet-stream",f=0,l=4e4,p=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,l)},v=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var a=e["on"+t[o]];if("function"==typeof a)try{a.call(e,n||e)}catch(r){u(r)}}},g=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["ï»¿",e],{type:e.type}):e},m=function(t,u,l){l||(t=g(t));var m,w,y,h=this,b=t.type,S=!1,R=function(){v(h,"writestart progress write writeend".split(" "))},O=function(){if(w&&i&&"undefined"!=typeof FileReader){var o=new FileReader;return o.onloadend=function(){var e=o.result;w.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),h.readyState=h.DONE,R()},o.readAsDataURL(t),void(h.readyState=h.INIT)}if((S||!m)&&(m=n().createObjectURL(t)),w)w.location.href=m;else{var a=e.open(m,"_blank");void 0===a&&i&&(e.location.href=m)}h.readyState=h.DONE,R(),p(m)},E=function(e){return function(){return h.readyState!==h.DONE?e.apply(this,arguments):void 0}},A={create:!0,exclusive:!1};return h.readyState=h.INIT,u||(u="download"),a?(m=n().createObjectURL(t),void setTimeout(function(){o.href=m,o.download=u,r(o),R(),p(m),h.readyState=h.DONE})):(e.chrome&&b&&b!==s&&(y=t.slice||t.webkitSlice,t=y.call(t,0,t.size,s),S=!0),c&&"download"!==u&&(u+=".download"),(b===s||c)&&(w=e),d?(f+=t.size,void d(e.TEMPORARY,f,E(function(e){e.root.getDirectory("saved",A,E(function(e){var n=function(){e.getFile(u,A,E(function(e){e.createWriter(E(function(n){n.onwriteend=function(t){w.location.href=e.toURL(),h.readyState=h.DONE,v(h,"writeend",t),p(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&O()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=h["on"+e]}),n.write(t),h.abort=function(){n.abort(),h.readyState=h.DONE},h.readyState=h.WRITING}),O)}),O)};e.getFile(u,{create:!1},E(function(e){e.remove(),n()}),E(function(e){e.code===e.NOT_FOUND_ERR?n():O()}))}),O)}),O)):void O())},w=m.prototype,y=function(e,t,n){return new m(e,t,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=g(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(w.abort=function(){var e=this;e.readyState=e.DONE,v(e,"abort")},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),downloadAs=downloadAs||function(){function e(e,t,n){t=t||"",n=n||512;for(var o=atob(e),a=[],r=0;r<o.length;r+=n){for(var i=o.slice(r,r+n),c=new Array(i.length),d=0;d<i.length;d++)c[d]=i.charCodeAt(d);var u=new Uint8Array(c);a.push(u)}var s=new Blob(a,{type:t});return s}function t(t,n,o){n+=".jpg";var a=t.toDataURL("image/jpeg",o);a=a.replace(/^data:image\/jpeg;base64,/,"");var r=e(a,"image/jpeg");saveAs(r,n)}function n(t,n,o){n+=".png";var a=t.toDataURL("image/png",o);a=a.replace(/^data:image\/png;base64,/,"");var r=e(a,"image/png");saveAs(r,n)}var o=function(e,o,a){var r;"object"==typeof o?(name=o.name||"image",a=o.type||"png",r=o.quality||1):(name=o||"image",a=a||"png");var i=document.getElementById(e);switch(a=a.toLowerCase()){case"jpg":t(i,name,r);break;case"png":n(i,name,r);break;default:n(i,name,r)}};return o}();"undefined"!=typeof module&&module.exports?module.exports=downloadAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return downloadAs});